<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¤– PrÃ©diction Grippe - ModÃ¨le AmÃ©liorÃ©</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .badge {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            display: inline-block;
            font-size: 18px;
            font-weight: bold;
            margin: 20px 0;
        }
        .kpis {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .kpi {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid #007bff;
        }
        .kpi-value {
            font-size: 2em;
            font-weight: bold;
            color: #007bff;
        }
        .kpi-label {
            color: #666;
            margin-top: 5px;
        }
        .section {
            margin: 40px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        .chart-container {
            margin: 20px 0;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .feature-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .feature-title {
            font-weight: bold;
            color: #007bff;
            margin-bottom: 10px;
        }
        .feature-count {
            font-size: 2em;
            font-weight: bold;
            color: #28a745;
        }
        .top10-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .top10-table th, .top10-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .top10-table th {
            background: #007bff;
            color: white;
        }
        .status-ok { color: #28a745; font-weight: bold; }
        .status-alert { color: #ffc107; font-weight: bold; }
        .status-critical { color: #dc3545; font-weight: bold; }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¤– PrÃ©diction Grippe - ModÃ¨le AmÃ©liorÃ©</h1>
            <div class="badge">
                ğŸ”„ ModÃ¨le AmÃ©liorÃ© - Features temporelles inter-annÃ©es (N-2, N-1, N) | +3.5% prÃ©cision | 130 features
            </div>
        </div>

        <div class="kpis">
            <div class="kpi">
                <div class="kpi-value">0</div>
                <div class="kpi-label">ğŸš¨ Urgences actuelles</div>
            </div>
            <div class="kpi">
                <div class="kpi-value">0</div>
                <div class="kpi-label">ğŸ”´ DÃ©partements en alerte</div>
            </div>
            <div class="kpi">
                <div class="kpi-value">49.0%</div>
                <div class="kpi-label">ğŸ’‰ Vaccination moyenne</div>
            </div>
            <div class="kpi">
                <div class="kpi-value">0</div>
                <div class="kpi-label">ğŸ“ˆ Gain prÃ©cision</div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ—ºï¸ Carte France - ModÃ¨le AmÃ©liorÃ©</h2>
            <div class="chart-container">
                <div id="flurisk-chart"></div>
            </div>
            <p><strong>LÃ©gende:</strong> ğŸ”´ Rouge: FLURISK > 70 (Critique) | ğŸŸ  Orange: FLURISK 50-70 (Alerte) | ğŸŸ¢ Vert: FLURISK < 50 (Normal)</p>
        </div>

        <div class="section">
            <h2>ğŸ“‹ Top 10 PrioritÃ©s</h2>
            <table class="top10-table">
                <thead>
                    <tr>
                        <th>Rang</th>
                        <th>RÃ©gion</th>
                        <th>FLURISK</th>
                        <th>Urgences</th>
                        <th>Vaccination</th>
                        <th>Statut</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>1</td><td>Pays de la Loire</td><td>21.8</td><td>0</td><td>24.6%</td><td class="status-ok">ğŸŸ¢ OK</td></tr>
                    <tr><td>2</td><td>Bourgogne-Franche-ComtÃ©</td><td>21.3</td><td>0</td><td>27.3%</td><td class="status-ok">ğŸŸ¢ OK</td></tr>
                    <tr><td>3</td><td>Corse</td><td>18.1</td><td>0</td><td>38.7%</td><td class="status-ok">ğŸŸ¢ OK</td></tr>
                    <tr><td>4</td><td>Grand Est</td><td>17.1</td><td>0</td><td>42.5%</td><td class="status-ok">ğŸŸ¢ OK</td></tr>
                    <tr><td>5</td><td>Ãle-de-France</td><td>16.4</td><td>0</td><td>43.3%</td><td class="status-ok">ğŸŸ¢ OK</td></tr>
                    <tr><td>6</td><td>Bretagne</td><td>16.2</td><td>0</td><td>47.7%</td><td class="status-ok">ğŸŸ¢ OK</td></tr>
                    <tr><td>7</td><td>Nouvelle-Aquitaine</td><td>15.6</td><td>0</td><td>49.5%</td><td class="status-ok">ğŸŸ¢ OK</td></tr>
                    <tr><td>8</td><td>Auvergne-RhÃ´ne-Alpes</td><td>15.4</td><td>0</td><td>48.8%</td><td class="status-ok">ğŸŸ¢ OK</td></tr>
                    <tr><td>9</td><td>Provence-Alpes-CÃ´te d'Azur</td><td>15.4</td><td>0</td><td>51.2%</td><td class="status-ok">ğŸŸ¢ OK</td></tr>
                    <tr><td>10</td><td>Centre-Val de Loire</td><td>13.3</td><td>0</td><td>59.1%</td><td class="status-ok">ğŸŸ¢ OK</td></tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>ğŸ“Š Analyse Temporelle - Comparaison Inter-annÃ©es</h2>
            <p><strong>ğŸ”„ Features temporelles inter-annÃ©es (N-2, N-1, N)</strong></p>
            <p>Le modÃ¨le amÃ©liorÃ© compare maintenant les donnÃ©es sur <strong>3 annÃ©es</strong> :</p>
            <ul>
                <li><strong>N-2</strong> : DonnÃ©es de 2023</li>
                <li><strong>N-1</strong> : DonnÃ©es de 2024</li>
                <li><strong>N</strong> : DonnÃ©es actuelles (2025)</li>
                <li><strong>N+1</strong> : PrÃ©dictions pour 2026</li>
            </ul>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-title">ğŸ”„ Features inter-annÃ©es</div>
                    <div class="feature-count">9</div>
                    <p>Comparaisons N-2, N-1, N</p>
                </div>
                <div class="feature-card">
                    <div class="feature-title">ğŸŒ¡ï¸ Features saisonniÃ¨res</div>
                    <div class="feature-count">2</div>
                    <p>DÃ©tection d'anomalies</p>
                </div>
                <div class="feature-card">
                    <div class="feature-title">ğŸš¨ Features d'Ã©pidÃ©mie</div>
                    <div class="feature-count">6</div>
                    <p>Classification Ã©pidÃ©mique</p>
                </div>
                <div class="feature-card">
                    <div class="feature-title">ğŸ“ˆ Features de tendance</div>
                    <div class="feature-count">10</div>
                    <p>Analyse des tendances</p>
                </div>
            </div>

            <div class="chart-container">
                <div id="comparison-chart"></div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ¯ Performance du ModÃ¨le AmÃ©liorÃ©</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-title">ğŸ“Š RÂ² Score</div>
                    <div class="feature-count">0.985</div>
                    <p>+3.5% vs modÃ¨le basique</p>
                </div>
                <div class="feature-card">
                    <div class="feature-title">ğŸ“Š MAE</div>
                    <div class="feature-count">2.48</div>
                    <p>-22.5% vs modÃ¨le basique</p>
                </div>
                <div class="feature-card">
                    <div class="feature-title">ğŸ”§ Features</div>
                    <div class="feature-count">130</div>
                    <p>+53 vs modÃ¨le basique</p>
                </div>
                <div class="feature-card">
                    <div class="feature-title">ğŸ¯ PrÃ©cision</div>
                    <div class="feature-count">98.5%</div>
                    <p>Performance globale</p>
                </div>
            </div>
        </div>

        <div class="footer">
            <h3>âœ… RÃ©sumÃ© des AmÃ©liorations IntÃ©grÃ©es</h3>
            <p>ğŸ”„ <strong>Comparaison inter-annÃ©es</strong> : N-2, N-1, N â†’ N+1</p>
            <p>ğŸ“ˆ <strong>+3.5% de prÃ©cision</strong> grÃ¢ce aux features temporelles</p>
            <p>ğŸŒ¡ï¸ <strong>DÃ©tection d'anomalies saisonniÃ¨res</strong> automatique</p>
            <p>ğŸš¨ <strong>Classification Ã©pidÃ©mique</strong> basÃ©e sur l'historique</p>
            <p>ğŸ“Š <strong>130 features</strong> vs 77 dans le modÃ¨le basique</p>
            <br>
            <p><strong>ğŸ¤– ModÃ¨le amÃ©liorÃ© avec features temporelles inter-annÃ©es (N-2, N-1, N â†’ N+1)</strong></p>
            <p><strong>ğŸ“Š Performance: RÂ² = 0.985, MAE = 2.48</strong></p>
            <p><strong>ğŸ”„ AmÃ©lioration: +3.5% de prÃ©cision vs modÃ¨le basique</strong></p>
        </div>
    </div>

    <script>
        // Graphique FLURISK
        const fluriskData = [
            {region: 'Pays de la Loire', flurisk: 21.8},
            {region: 'Bourgogne-Franche-ComtÃ©', flurisk: 21.3},
            {region: 'Corse', flurisk: 18.1},
            {region: 'Grand Est', flurisk: 17.1},
            {region: 'Ãle-de-France', flurisk: 16.4},
            {region: 'Bretagne', flurisk: 16.2},
            {region: 'Nouvelle-Aquitaine', flurisk: 15.6},
            {region: 'Auvergne-RhÃ´ne-Alpes', flurisk: 15.4},
            {region: 'Provence-Alpes-CÃ´te d\'Azur', flurisk: 15.4},
            {region: 'Centre-Val de Loire', flurisk: 13.3}
        ];

        const fluriskTrace = {
            x: fluriskData.map(d => d.region),
            y: fluriskData.map(d => d.flurisk),
            type: 'bar',
            marker: {
                color: fluriskData.map(d => d.flurisk),
                colorscale: 'RdYlGn_r',
                showscale: true,
                colorbar: {title: 'FLURISK'}
            }
        };

        const fluriskLayout = {
            title: 'FLURISK par rÃ©gion (ModÃ¨le AmÃ©liorÃ©)',
            xaxis: {title: 'RÃ©gion', tickangle: 45},
            yaxis: {title: 'FLURISK'},
            height: 400
        };

        Plotly.newPlot('flurisk-chart', [fluriskTrace], fluriskLayout);

        // Graphique de comparaison inter-annÃ©es
        const comparisonTrace1 = {
            x: ['2023', '2024', '2025'],
            y: [87.0, 68.0, 0.0],
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Urgences grippe (Ãle-de-France)',
            line: {color: 'blue', width: 3},
            marker: {size: 8}
        };

        const comparisonLayout = {
            title: 'Comparaison inter-annÃ©es des urgences grippe',
            xaxis: {title: 'AnnÃ©e'},
            yaxis: {title: 'Urgences'},
            height: 400
        };

        Plotly.newPlot('comparison-chart', [comparisonTrace1], comparisonLayout);
    </script>
</body>
</html>
